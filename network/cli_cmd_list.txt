#peer0.org1.pretzel.com
export CORE_PEER_LOCALMSPID=Org1MSP
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto/peerOrganizations/org1.pretzel.com/users/Admin@org1.pretzel.com/msp
export CORE_PEER_ADDRESS=peer0.org1.pretzel.com:7051

#peer0.org2.pretzel.com
export CORE_PEER_LOCALMSPID=Org2MSP
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto/peerOrganizations/org2.pretzel.com/users/Admin@org2.pretzel.com/msp
export CORE_PEER_ADDRESS=peer0.org2.pretzel.com:8051

#peer0.org3.pretzel.com
export CORE_PEER_LOCALMSPID=Org3MSP
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/crypto/peerOrganizations/org3.pretzel.com/users/Admin@org3.pretzel.com/msp
export CORE_PEER_ADDRESS=peer0.org3.pretzel.com:9051

export DATA=$(echo -n "{\"username\":\"user1\",\"money\":10}" | base64 | tr -d \\n)
peer chaincode invoke -n pretzel2 -C pretzelchannel -c '{"Args":["inputPD","collectionOrg4PD"]}' --transient "{\"data\":\"$DATA\"}"
peer chaincode invoke -n pretzel2 -C pretzelchannel -c '{"Args":["inputPD","user1","1000","collectionOrg5PD"]}'
peer chaincode invoke -n pretzel2 -C pretzelchannel -c '{"Args":["inputPD","user1","1000","collectionOrg6PD"]}'

peer chaincode query -n pretzel2 -C pretzelchannel -c '{"Args":["readPD","user1","collectionOrg4PD"]}'
peer chaincode query -n pretzel2 -C pretzelchannel -c '{"Args":["readPD","user1","collectionOrg5PD"]}'
peer chaincode query -n pretzel2 -C pretzelchannel -c '{"Args":["readPD","user1","collectionOrg6PD"]}'



#install
peer chaincode install -n pretzel -v 1.0 -p github.com/pretzel 
peer chaincode install -n pretzel2 -v 1.0 -p github.com/pretzel2

#instantiate(only world state)
peer chaincode instantiate -n pretzel -v 1.0 -C pretzelchannel -c ' {"Args":[]}' -P 'OR ("Org1MSP.member", "Org2MSP.member","Org3MSP.member")'

#instantiate
peer chaincode instantiate -n pretzel -v 1.0 -C pretzelchannel -c '{"Args":[]}' -P 'OR ("Org1MSP.member", "Org2MSP.member","Org3MSP.member")' --collections-config /opt/gopath/src/github.com/pretzel/collections_config.json
peer chaincode instantiate -n pretzel2 -v 1.0 -C pretzelchannel -c '{"Args":[]}' -P 'OR ("Org1MSP.member", "Org2MSP.member","Org3MSP.member")' --collections-config /opt/gopath/src/github.com/pretzel/collections_config.json
peer chaincode instantiate -o orderer.pretzel.com:7050 -n pretzel -v 1.0 -C pretzelchannel -c '{"Args":[]}' -P 'OR ("Org1MSP.member", "Org2MSP.member","Org3MSP.member")' --collections-config /opt/gopath/src/github.com/pretzel/collections_config.json

